CREATE PROCEDURE [dbo].[LCJ_GETREMITTANCECHECKS]	@DomainId NVARCHAR(50),    	@dt1 datetime,    	@dt2 datetime,    	@providerid INT =0,	@AccountId varchar(50)=''	ASBEGIN        SET NOCOUNT ON;	Select  a.provider_id,provider_name,a.Provider_Name +     	ISNULL(N' [Group: ' + a.Provider_GroupName + N' ]', N'') AS ProviderName_Long,	last_printed as lp,  	ROUND(ISNULL(GROSS_AMOUNT, 0.00),2) AS GROSS_AMOUNT,	ROUND(ISNULL(FIRM_FEES, 0.00),2) AS FIRM_FEES,	ISNULL(b.VENDOR_FEE,0.00) AS VENDOR_FEE,    	ROUND(ISNULL(FINAL_REMIT, 0.00),2) AS FINAL_REMIT,    ROUND(ISNULL(GROSS_AMOUNT, 0.00) - ISNULL(FINAL_REMIT, 0.00),2) AS FIRM_REMIT_AMOUNT,	--'printchecks.asp?id='+ Convert(Varchar(50), account_id) AS PRINT_CHECKS,	--'printinvoice.asp?id='+ Convert(Varchar(50), account_id) AS PRINT_INVOICE,	ACCOUNT_ID,	ISNULL(Convert(varchar(50), b.ACCOUNT_DATE, 101),'No Generated Date') AS ACCOUNT_DATE	--'confirmPrint.asp?id='+ Convert(Varchar(50), account_id) AS CONFIRM_PRINT,	--'reverseInvoice.asp?id='+ Convert(Varchar(50), account_id) AS REVERSE_INVOICE	from tblprovider a     	inner join tblclientaccount b on a.provider_id=b.provider_id     	where     	(@providerid=0 OR a.provider_id= @providerid ) and     	cast(floor(convert( float,b.account_date)) as datetime)>= @dt1 and cast(floor(convert( float,b.account_date)) as datetime) <= @dt2    	and a.DomainId=@DomainId     	AND Account_Id in (select Invoice_Id from tblTransactions WHERE DomainId = @DomainId) 	AND (Account_Id = @AccountId OR @AccountId = '')	order by provider_name,Last_Printed    END    